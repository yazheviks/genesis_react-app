(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(17),i=a.n(s),o=(a(24),a(8)),l=a(11),j=a(9),p=(a(25),a(3)),d=function(e,t){return fetch("".concat("https://swapi.dev/api/").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},h=a(2),u=a.n(h);u.a.shape({name:u.a.string,rotation_period:u.a.string,orbital_period:u.a.string,diameter:u.a.string,climate:u.a.string,gravity:u.a.string,terrain:u.a.string,surface_water:u.a.string,films:u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.string)]),population:u.a.string,residents:u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.string)]),created:u.a.string,edited:u.a.string,url:u.a.string});function x(e){var t=e.split("/");return t[t.length-2]}var b=function(e){var t=e.planet;return Object(n.jsx)("div",{children:Object(n.jsx)(o.b,{to:"/planets/".concat(x(t.url)),style:{textDecoration:"none"},children:Object(n.jsxs)("div",{className:"planets__planet planet card",children:[Object(n.jsx)("h1",{className:"planet__title card-title",children:t.url}),Object(n.jsxs)("div",{className:"planet__info",children:[Object(n.jsx)("span",{className:"card-text",children:"Climate: ".concat(t.climate)}),Object(n.jsx)("span",{className:"card-text",children:"Population: ".concat(t.population)})]})]})})})},O=a(31),g=function(e){var t=e.text,a=e.mission,r=e.href;return Object(n.jsx)(o.b,{to:r,exact:!0,children:Object(n.jsx)("button",{className:O({"planet-page__arrow":!0,btn:!0,"btn-danger":"return"===a,"btn-dark":"next"===a||"prev"===a},"planet-page__arrow--".concat(a)),type:"button",children:t})})},f=function(e){var t=e.text;return Object(n.jsx)("div",{className:"planet-page__error",children:t})},m=function(e){var t=+e.match.params.pageId,a=Object(r.useState)(null),c=Object(j.a)(a,2),s=c[0],i=c[1];Object(r.useEffect)((function(){d("planets/?page=".concat(t)).then((function(e){return e.results})).then((function(e){return i(e),e})).catch((function(){i("none")}))}),[t]);var o=t>=7;return s?Object(n.jsx)("div",{className:"planets",children:"none"===s?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{text:"Planets are over"}),Object(n.jsx)(g,{text:o?"<":">",mission:o?"prev":"next",href:o?"/page/".concat(t-1,"/"):"/page/1/"})]}):Object(n.jsxs)(n.Fragment,{children:[s.map((function(e){return Object(n.jsx)(b,{planet:e},e.name)})),Object(n.jsx)(g,{text:">",mission:"next",href:"/page/".concat(t+1)}),Object(n.jsx)(g,{text:"<",mission:"prev",href:"/page/".concat(t-1)})]})}):Object(n.jsx)(f,{text:"Loading..."})},v=(u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.shape({name:u.a.string,height:u.a.string,mass:u.a.string,hair_color:u.a.string,skin_color:u.a.string,eye_color:u.a.string,birth_year:u.a.string,gender:u.a.string,homeworld:u.a.string,films:u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.string)]),species:u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.string)]),vehicles:u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.string)]),starships:u.a.oneOfType([u.a.array,u.a.arrayOf(u.a.string)]),created:u.a.string,edited:u.a.string,url:u.a.string}))]),function(e){var t=e.planet,a=e.residents;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"planet-page__title",children:t.name}),Object(n.jsx)("p",{className:"planet-page__rotation-period",children:"Rotation period: ".concat(t.rotation_period)}),Object(n.jsx)("p",{className:"planet-page__diameter",children:"Diameter: ".concat(t.diameter)}),Object(n.jsx)("p",{className:"planet-page__climate",children:"Climate: ".concat(t.climate)}),Object(n.jsx)("p",{className:"planet-page__gravity",children:"GRavity: ".concat(t.gravity)}),Object(n.jsx)("p",{className:"planet-page__terrain",children:"Terrain: ".concat(t.terrain)}),Object(n.jsx)("p",{className:"planet-page__population",children:"Population: ".concat(t.population)}),Object(n.jsxs)("div",{className:"planet-page__residents",children:[a&&0===a.length&&Object(n.jsx)("div",{children:"We know nobody from here..."}),a?a.length>0&&Object(n.jsxs)("div",{children:["You may know them:",a.map((function(e){return Object(n.jsx)("p",{className:"planet-page__resident",children:e.name},e.name)}))]}):Object(n.jsx)("p",{children:"Loading..."})]})]})});v.defaultProps={residents:null};var _=function(e){var t=e.match,a=Object(r.useState)(null),c=Object(j.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(null),l=Object(j.a)(o,2),p=l[0],h=l[1],u=+t.params.planetId;return console.log(p),Object(r.useEffect)((function(){d("".concat(t.url.slice(1),"/")).then((function(e){return h(e),e})).then((function(e){var t=[];e&&(0===e.residents.length&&i([]),e.residents.forEach((function(e){var a=e.replace("http","https");fetch(a).then((function(e){return e.json()})).then((function(e){t.push(e)})).then((function(){i([].concat(t))}))})))})).catch((function(){h("none")}))}),[u]),u>60||u<=0?u>60?Object(n.jsxs)("div",{className:"planet-page",children:[Object(n.jsx)(f,{text:"Thant's all..."}),Object(n.jsx)(g,{text:"X",mission:"return",href:"/page/1/"}),Object(n.jsx)(g,{text:"<",mission:"prev",href:"/planets/".concat(u-1)})]}):Object(n.jsxs)("div",{className:"planet-page",children:[Object(n.jsx)(f,{text:"Thant's all..."}),Object(n.jsx)(g,{text:"X",mission:"return",href:"/page/1"}),Object(n.jsx)(g,{text:">",mission:"next",href:"/planets/".concat(u+1)})]}):p?Object(n.jsxs)("div",{className:"planet-page",children:[Object(n.jsx)(g,{text:">",mission:"next",href:"/planets/".concat(u+1)}),Object(n.jsx)(g,{text:"<",mission:"prev",href:"/planets/".concat(u-1)}),Object(n.jsx)(g,{text:"X",mission:"return",href:"/page/1"}),s?Object(n.jsx)(v,{planet:p,residents:s}):Object(n.jsx)(f,{text:"Loading... here"})]}):Object(n.jsx)(f,{text:"Loading bla..."})},y=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){d("planets/").then((function(e){return e.results})).then((function(e){return e.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{id:t+1})}))})).then(c)}),[]),a?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"page__title",children:"Star wars universe"}),Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{path:"/page/:pageId",render:function(e){return Object(n.jsx)(m,Object(l.a)({},e))},exact:!0}),Object(n.jsx)(p.b,{path:"/planets/:planetId",render:function(e){return Object(n.jsx)(_,Object(l.a)(Object(l.a)({},e),{},{planets:a}))}}),Object(n.jsx)(p.a,{path:"/",to:"/page/1/",exact:!0}),Object(n.jsxs)("div",{className:"error-page",children:[Object(n.jsx)(f,{text:"Page is not found"}),Object(n.jsx)(g,{text:"back to main",mission:"return",href:"/planets"})]})]})]}):Object(n.jsx)(f,{text:"Loading..."})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(y,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6c775b1a.chunk.js.map