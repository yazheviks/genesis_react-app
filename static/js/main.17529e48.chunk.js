(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(17),i=n.n(r),l=(n(24),n(8)),j=n(10),o=n(7),p=(n(25),n(2)),d=function(){return(e="planets/",fetch("".concat("https://swapi.dev/api/").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))).then((function(e){return e.results})).then((function(e){return e.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:t+1})}))}));var e,t},b=function(e){var t=e.planet;return Object(a.jsx)("div",{children:Object(a.jsx)(l.b,{to:"/planets/".concat(t.id),children:Object(a.jsxs)("div",{className:"planets__planet planet card",children:[Object(a.jsx)("h1",{className:"planet__title card-title",children:t.name}),Object(a.jsx)("img",{src:"../planet.svg",alt:t.name,className:"card-img-top"}),Object(a.jsxs)("div",{className:"planet__info",children:[Object(a.jsx)("span",{className:"card-text",children:"Climate: ".concat(t.climate)}),Object(a.jsx)("span",{className:"card-text",children:"Population: ".concat(t.population)})]})]})})})},u=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){d().then(s)}),[]),Object(a.jsx)("div",{className:"planets",children:n.map((function(e){return Object(a.jsx)(b,{planets:n,planet:e},e.id)}))})},h=n(31),x=function(e){var t=e.text,n=e.mission,c=e.href;return Object(a.jsx)(l.b,{to:c,exact:!0,children:Object(a.jsx)("button",{className:h({"planet-page__arrow":!0,btn:!0,"btn-danger":"return"===n,"btn-dark":"next"===n||"prev"===n},"planet-page__arrow--".concat(n)),type:"button",children:t})})},O=function(e){var t=e.text;return Object(a.jsx)("div",{className:"planet-page__error",children:t})},m=function(e){var t=e.planet,n=e.residents;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"planet-page__title",children:t.name}),Object(a.jsx)("p",{className:"planet-page__rotation-period",children:"Rotation period: ".concat(t.rotation_period)}),Object(a.jsx)("p",{className:"planet-page__diameter",children:"Diameter: ".concat(t.diameter)}),Object(a.jsx)("p",{className:"planet-page__climate",children:"Climate: ".concat(t.climate)}),Object(a.jsx)("p",{className:"planet-page__gravity",children:"GRavity: ".concat(t.gravity)}),Object(a.jsx)("p",{className:"planet-page__terrain",children:"Terrain: ".concat(t.terrain)}),Object(a.jsx)("p",{className:"planet-page__population",children:"Population: ".concat(t.population)}),Object(a.jsxs)("div",{className:"planet-page__residents",children:[n&&0===n.length&&Object(a.jsx)("div",{children:"We know nobody from here..."}),n?n.length>0&&Object(a.jsxs)("div",{children:["You may know them:",n.map((function(e){return Object(a.jsx)("p",{className:"planet-page__resident",children:e.name})}))]}):Object(a.jsx)("p",{children:"Loading..."})]})]})},f=function(e){var t=e.match,n=Object(c.useState)(null),s=Object(o.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(null),j=Object(o.a)(l,2),p=j[0],b=j[1],u=Object(c.useState)(null),h=Object(o.a)(u,2),f=h[0],_=h[1],g=+t.params.planetId;return Object(c.useEffect)((function(){d().then((function(e){var t=e.find((function(e){return e.id===g}));return i(t),b(e.length),t})).then((function(e){var t=[];e&&(0===e.residents.length&&_([]),e.residents.forEach((function(e){fetch(e).then((function(e){return e.json()})).then((function(e){t.push(e)})).then((function(){_([].concat(t))}))})))}))}),[g]),null!==p&&g>p||g<=0&&null!==p?g>p?Object(a.jsxs)("div",{className:"planet-page",children:[Object(a.jsx)(O,{text:"Thant's all..."}),Object(a.jsx)(x,{text:"X",mission:"return",href:"/planets"}),Object(a.jsx)(x,{text:"<",mission:"prev",href:"/planets/".concat(g-1)})]}):Object(a.jsxs)("div",{className:"planet-page",children:[Object(a.jsx)("div",{className:"planet-page__error",children:"Thant's all..."}),Object(a.jsx)(x,{text:"X",mission:"return",href:"/planets"}),Object(a.jsx)(x,{text:">",mission:"next",href:"/planets/".concat(g+1)})]}):r?Object(a.jsxs)("div",{className:"planet-page",children:[Object(a.jsx)(x,{text:">",mission:"next",href:"/planets/".concat(g+1)}),Object(a.jsx)(x,{text:"<",mission:"prev",href:"/planets/".concat(g-1)}),Object(a.jsx)(x,{text:"X",mission:"return",href:"/planets"}),Object(a.jsx)(m,{planet:r,residents:f})]}):Object(a.jsx)(O,{text:"Loading..."})},_=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){d().then(s)}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"page__title",children:"Star wars universe"}),Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/planets",component:u,exact:!0}),Object(a.jsx)(p.b,{path:"/planets/:planetId",render:function(e){return Object(a.jsx)(f,Object(j.a)(Object(j.a)({},e),{},{planets:n,planetsLength:n.length}))}}),Object(a.jsx)(p.a,{path:"/",to:"/planets",exact:!0}),Object(a.jsx)("h1",{children:"Page is not found"})]})]})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(_,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.17529e48.chunk.js.map