(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),s=a.n(r),c=a(17),i=a.n(c),o=(a(24),a(8)),l=a(11),j=(a(25),a(3)),p=a(10),d=a(1),h=a.n(d);h.a.shape({name:h.a.string,rotation_period:h.a.string,orbital_period:h.a.string,diameter:h.a.string,climate:h.a.string,gravity:h.a.string,terrain:h.a.string,surface_water:h.a.string,films:h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.string)]),population:h.a.string,residents:h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.string)]),created:h.a.string,edited:h.a.string,url:h.a.string});function u(e){var t=e.split("/");return t[t.length-2]}var x=function(e){var t=e.planet;return Object(n.jsx)("div",{children:Object(n.jsx)(o.b,{to:"/planets/".concat(u(t.url)),style:{textDecoration:"none"},children:Object(n.jsxs)("div",{className:"planets__planet planet card",children:[Object(n.jsx)("h1",{className:"planet__title card-title",children:t.name}),Object(n.jsxs)("div",{className:"planet__info",children:[Object(n.jsx)("span",{className:"card-text",children:"Climate: ".concat(t.climate)}),Object(n.jsx)("span",{className:"card-text",children:"Population: ".concat(t.population)})]})]})})})},b=a(31),O=function(e){var t=e.text,a=e.mission,r=e.href,s=e.className;return Object(n.jsx)(o.b,{to:r,exact:!0,className:"button",children:Object(n.jsx)("button",{className:b({button__arrow:!0,btn:!0,"btn-danger":"return"===a,"btn-dark":"next"===a||"prev"===a},"button__arrow--".concat(a),s),type:"button",children:t})})};O.defaultProps={className:""};var g=function(e,t){return fetch("".concat("https://swapi.dev/api/").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},f=function(e){var t=e.text;return Object(n.jsx)("div",{className:"planet-page__error",children:t})},m=function(e){var t=+e.match.params.pageId,a=Object(r.useState)(null),s=Object(p.a)(a,2),c=s[0],i=s[1];Object(r.useEffect)((function(){g("planets/?page=".concat(t)).then((function(e){return e.results})).then((function(e){return i(e),e})).catch((function(){i("none")}))}),[t]);var o=t>=7;return c?Object(n.jsx)("div",{className:"planets",children:"none"===c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{text:"Planets are over"}),Object(n.jsx)(O,{text:o?"<":">",mission:o?"prev":"next",href:o?"/page/".concat(t-1,"/"):"/page/1/"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{text:"<",mission:"prev",href:"/page/".concat(t-1)}),Object(n.jsx)(O,{text:">",mission:"next",href:"/page/".concat(t+1)}),c.map((function(e){return Object(n.jsx)(x,{planet:e},e.name)}))]})}):Object(n.jsx)(f,{text:"Loading..."})},v=(h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.shape({name:h.a.string,height:h.a.string,mass:h.a.string,hair_color:h.a.string,skin_color:h.a.string,eye_color:h.a.string,birth_year:h.a.string,gender:h.a.string,homeworld:h.a.string,films:h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.string)]),species:h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.string)]),vehicles:h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.string)]),starships:h.a.oneOfType([h.a.array,h.a.arrayOf(h.a.string)]),created:h.a.string,edited:h.a.string,url:h.a.string}))]),function(e){var t=e.planet,a=e.residents;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"planet-page__title",children:t.name}),Object(n.jsx)("p",{className:"planet-page__rotation-period",children:"Rotation period: ".concat(t.rotation_period)}),Object(n.jsx)("p",{className:"planet-page__diameter",children:"Diameter: ".concat(t.diameter)}),Object(n.jsx)("p",{className:"planet-page__climate",children:"Climate: ".concat(t.climate)}),Object(n.jsx)("p",{className:"planet-page__gravity",children:"GRavity: ".concat(t.gravity)}),Object(n.jsx)("p",{className:"planet-page__terrain",children:"Terrain: ".concat(t.terrain)}),Object(n.jsx)("p",{className:"planet-page__population",children:"Population: ".concat(t.population)}),Object(n.jsxs)("div",{className:"planet-page__residents",children:[a&&0===a.length&&Object(n.jsx)("div",{children:"We know nobody from here..."}),a?a.length>0&&Object(n.jsxs)("div",{children:["You may know them:",a.map((function(e){return Object(n.jsx)("p",{className:"planet-page__resident",children:e},e)}))]}):Object(n.jsx)("p",{children:"Loading..."})]})]})});v.defaultProps={residents:null};var _=function(e){var t=e.match,a=Object(r.useState)(null),s=Object(p.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(null),l=Object(p.a)(o,2),j=l[0],d=l[1],h=Object(r.useState)(null),u=Object(p.a)(h,2),x=u[0],b=u[1],m=+t.params.planetId;return Object(r.useEffect)((function(){g("planets/").then((function(e){return e.count})).then(d).catch((function(){d(60)})),g("".concat(t.url.slice(1),"/")).then((function(e){return b(e),e})).then((function(e){var t=[];e&&(0===e.residents.length&&i([]),e.residents.forEach((function(e){var a=e.replace("http","https");fetch(a).then((function(e){return e.json()})).then((function(e){t.push(e.name)})).then((function(){i([].concat(t))})).catch((function(){i(["We did not find famous people. Try again later."])}))})))})).catch((function(){b("none")}))}),[m]),m>j||m<=0?m>j?Object(n.jsxs)("div",{className:"planet-page",children:[Object(n.jsx)(f,{text:"Thant's all..."}),Object(n.jsx)(O,{text:"X",mission:"return",href:"/page/1/"}),Object(n.jsx)(O,{text:"<",mission:"prev",href:"/planets/".concat(m-1),className:"right"})]}):Object(n.jsxs)("div",{className:"planet-page",children:[Object(n.jsx)(f,{text:"Thant's all..."}),Object(n.jsx)(O,{text:"X",mission:"return",href:"/page/1"}),Object(n.jsx)(O,{text:">",mission:"next",href:"/planets/".concat(m+1),className:"left"})]}):x?Object(n.jsxs)("div",{className:"planet-page",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{text:"<",mission:"prev",href:"/planets/".concat(m-1)}),Object(n.jsx)(O,{text:">",mission:"next",href:"/planets/".concat(m+1)})]}),Object(n.jsx)(O,{text:"X",mission:"return",href:"/page/1"}),c?Object(n.jsx)(v,{planet:x,residents:c}):Object(n.jsx)(f,{text:"Loading..."})]}):Object(n.jsx)(f,{text:"Loading..."})},y=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"page__title",children:"Star wars universe"}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/page/:pageId",render:function(e){return Object(n.jsx)(m,Object(l.a)({},e))},exact:!0}),Object(n.jsx)(j.b,{path:"/planets/:planetId",render:function(e){return Object(n.jsx)(_,Object(l.a)({},e))}}),Object(n.jsx)(j.a,{path:"/",to:"/page/1/",exact:!0}),Object(n.jsxs)("div",{className:"error-page",children:[Object(n.jsx)(f,{text:"Page is not found"}),Object(n.jsx)(O,{text:"back to main",mission:"return",href:"/page/1"})]})]})]})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(y,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.8a678a92.chunk.js.map